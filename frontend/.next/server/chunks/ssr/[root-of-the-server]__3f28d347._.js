module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},45056,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored["react-ssr"].React},2057,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.AppRouterContext},3420,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.HooksClientContext},98823,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},31699,(a,b,c)=>{"use strict";b.exports=a.r(18622)},57850,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored["react-ssr"].ReactJsxRuntime},14102,a=>{"use strict";let b=process.env.NEXT_PUBLIC_API_URL||"https://logistics-system-oq8b.onrender.com";a.s(["API_URL",0,b])},91310,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(73951),e=a.i(93609),f=a.i(14102);function g(){let a=(0,e.useRouter)(),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)("SEA"),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)(""),[G,H]=(0,c.useState)(new Date().toISOString().split("T")[0]),[I,J]=(0,c.useState)(!1);(0,c.useEffect)(()=>{localStorage.getItem("token")||(window.location.href="/login")},[]);let K=async b=>{b.preventDefault(),J(!0);let c=localStorage.getItem("token");if(!c){window.location.href="/login";return}if(!g.trim()){alert("Client Name is required."),J(!1);return}let e=parseFloat(y)||0,h=parseFloat(A)||0,j=parseFloat(C)||0,l=parseFloat(E)||0;try{await d.default.post(`${f.API_URL}/api/jobs/`,{job_date:G,vat_number:o,client:{name:g,phone:i||"N/A",email:k||null,address:m||"",vat_number:o},transport_mode:q,port_loading:s,port_discharge:u,shipment_invoice_no:w,no_of_packages:e,gross_weight:h,net_weight:j,cbm:l},{headers:{Authorization:`Token ${c}`}}),alert("âœ… Job Created Successfully!"),a.push("/")}catch(a){if(console.error("FULL ERROR:",a),J(!1),a.response){let b=JSON.stringify(a.response.data,null,2);alert(`Server Rejected Request:
${b}`),401===a.response.status&&(window.location.href="/login")}else alert("Network Error: Could not reach the server.")}},L="bg-white p-8 rounded-2xl border border-slate-200 shadow-sm space-y-6",M="block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5",N="w-full p-3 rounded-lg border border-slate-200 font-bold text-slate-900 bg-slate-50 focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition";return(0,b.jsx)("div",{className:"min-h-screen bg-slate-50 p-6 flex justify-center font-sans",children:(0,b.jsxs)("div",{className:"w-full max-w-4xl space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Create New Job Card"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium mt-1",children:"Enter shipment details to generate a job card."})]}),(0,b.jsx)("button",{onClick:()=>a.push("/"),className:"text-slate-500 hover:text-red-600 font-bold text-sm bg-slate-100 hover:bg-red-50 px-4 py-2 rounded-lg transition",children:"Cancel"})]}),(0,b.jsxs)("form",{onSubmit:K,className:"space-y-6",children:[(0,b.jsxs)("div",{className:L,children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 border-b border-slate-100 pb-4",children:[(0,b.jsx)("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,b.jsx)("h3",{className:"text-lg font-bold text-slate-900",children:"Customer Information"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:M,children:["Customer Name ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",required:!0,value:g,onChange:a=>h(a.target.value),className:N,placeholder:"Company or Person Name"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:M,children:"VAT Number"}),(0,b.jsx)("input",{type:"text",value:o,onChange:a=>p(a.target.value),className:N,placeholder:"Ex: 123456789"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:M,children:"Phone Number"}),(0,b.jsx)("input",{type:"text",value:i,onChange:a=>j(a.target.value),className:N,placeholder:"+968..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:M,children:"Email Address"}),(0,b.jsx)("input",{type:"email",value:k,onChange:a=>l(a.target.value),className:N,placeholder:"client@example.com"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:M,children:"Full Address"}),(0,b.jsx)("textarea",{value:m,onChange:a=>n(a.target.value),className:N,rows:2,placeholder:"Building, Street, City..."})]})]})]}),(0,b.jsxs)("div",{className:L,children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 border-b border-slate-100 pb-4",children:[(0,b.jsx)("div",{className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"})})}),(0,b.jsx)("h3",{className:"text-lg font-bold text-slate-900",children:"Shipment Details"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:M,children:"Transport Mode"}),(0,b.jsxs)("select",{value:q,onChange:a=>r(a.target.value),className:N,children:[(0,b.jsx)("option",{value:"SEA",children:"Sea Freight"}),(0,b.jsx)("option",{value:"AIR",children:"Air Freight"}),(0,b.jsx)("option",{value:"LAND",children:"Land Freight"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:M,children:"Job Date"}),(0,b.jsx)("input",{type:"date",required:!0,value:G,onChange:a=>H(a.target.value),className:N})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:M,children:"Port of Loading"}),(0,b.jsx)("input",{type:"text",required:!0,value:s,onChange:a=>t(a.target.value),className:N,placeholder:"Ex: Jebel Ali"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:M,children:"Port of Discharge"}),(0,b.jsx)("input",{type:"text",required:!0,value:u,onChange:a=>v(a.target.value),className:N,placeholder:"Ex: Sohar Port"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:M,children:"Reference / Invoice No"}),(0,b.jsx)("input",{type:"text",value:w,onChange:a=>x(a.target.value),className:N,placeholder:"Will be auto-filled if blank"})]})]}),(0,b.jsxs)("div",{className:"pt-4 border-t border-slate-100 grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:M,children:"Packages"}),(0,b.jsx)("input",{type:"number",value:y,onChange:a=>z(a.target.value),className:N,placeholder:"0"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:M,children:"Gross Wt (KG)"}),(0,b.jsx)("input",{type:"number",value:A,onChange:a=>B(a.target.value),className:N,placeholder:"0.0"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:M,children:"Net Wt (KG)"}),(0,b.jsx)("input",{type:"number",value:C,onChange:a=>D(a.target.value),className:N,placeholder:"0.0"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:M,children:"Volume (CBM)"}),(0,b.jsx)("input",{type:"number",value:E,onChange:a=>F(a.target.value),className:N,placeholder:"0.0"})]})]})]}),(0,b.jsx)("div",{className:"flex justify-end pt-2",children:(0,b.jsx)("button",{type:"submit",disabled:I,className:"bg-slate-900 hover:bg-black text-white text-base font-bold py-4 px-12 rounded-xl shadow-lg hover:shadow-xl transition transform active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed w-full md:w-auto",children:I?"Processing...":"Create Job Card"})})]})]})})}a.s(["default",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__3f28d347._.js.map