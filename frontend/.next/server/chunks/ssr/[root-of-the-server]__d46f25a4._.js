module.exports=[45056,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored["react-ssr"].React},2057,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.AppRouterContext},3420,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.HooksClientContext},98823,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},31699,(a,b,c)=>{"use strict";b.exports=a.r(18622)},57850,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored["react-ssr"].ReactJsxRuntime},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},56270,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(73951),e=a.i(93609);function f(){let a=(0,e.useRouter)(),f=(0,c.useRef)(null),[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(null),m=async()=>{if(!f.current?.files?.[0])return alert("Please select an image first!");let a=new FormData;a.append("image",f.current.files[0]),h(!0);let b=localStorage.getItem("token");try{let c=await d.default.post("http://127.0.0.1:8000/api/ai/scan/",a,{headers:{"Content-Type":"multipart/form-data",Authorization:`Token ${b}`}});j(c.data)}catch(a){console.error(a),alert("Scan Failed. Ensure your Django view handles POST /api/ai/scan/ with an image.")}finally{h(!1)}},n=async()=>{if(i)try{let b=localStorage.getItem("token");await d.default.post("http://127.0.0.1:8000/api/transactions/",{trans_type:"CP",amount:i.amount,party_name:i.merchant,description:`AI Scanned Receipt - ${i.merchant}`,date:i.date||new Date().toISOString().split("T")[0]},{headers:{Authorization:`Token ${b}`}}),alert("Expense Saved Successfully!"),a.push("/reports")}catch(a){alert("Failed to save transaction. Check if all required fields are present.")}};return(0,b.jsxs)("div",{className:"min-h-screen bg-slate-950 text-white p-4 md:p-8 flex flex-col items-center justify-center font-sans antialiased",children:[(0,b.jsxs)("div",{className:"max-w-md w-full bg-slate-900 p-8 rounded-[2.5rem] border border-slate-800 shadow-2xl relative overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-600 via-indigo-500 to-cyan-400"}),(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-blue-600/20 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-blue-500/30",children:(0,b.jsx)("span",{className:"text-3xl",children:"ðŸ‘ï¸â€ðŸ—¨ï¸"})}),(0,b.jsx)("h1",{className:"text-2xl font-black tracking-tight italic",children:"OCR SCANNER"}),(0,b.jsx)("p",{className:"text-slate-500 text-xs font-bold uppercase tracking-widest mt-1",children:"Automatic Expense Entry"})]}),(0,b.jsx)("input",{type:"file",ref:f,onChange:a=>{let b=a.target.files?.[0];b&&(l(URL.createObjectURL(b)),j(null))},className:"hidden",accept:"image/*"}),(0,b.jsx)("div",{onClick:()=>f.current?.click(),className:`border-2 border-dashed rounded-3xl p-6 text-center transition-all cursor-pointer mb-6 overflow-hidden ${k?"border-blue-500 bg-blue-500/5":"border-slate-700 bg-slate-800/50 hover:bg-slate-800"}`,children:k?(0,b.jsx)("img",{src:k,alt:"Receipt Preview",className:"max-h-48 mx-auto rounded-lg shadow-lg"}):(0,b.jsxs)("div",{className:"py-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,b.jsx)("svg",{className:"w-6 h-6 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})})}),(0,b.jsx)("p",{className:"text-slate-400 text-xs font-black uppercase tracking-tighter",children:"Choose Receipt Image"})]})}),(0,b.jsx)("button",{onClick:m,disabled:g||!k||!!i,className:"w-full py-4 bg-white text-black font-black rounded-2xl shadow-xl transition active:scale-95 disabled:opacity-20 flex justify-center items-center gap-2 uppercase text-xs tracking-widest",children:g?"Analyzing Pixels...":i?"Scan Finished":"Begin AI Scan"}),i&&(0,b.jsxs)("div",{className:"mt-8 space-y-4 animate-in fade-in zoom-in duration-300",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-blue-400",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),(0,b.jsx)("p",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:"Extraction Results"})]}),(0,b.jsxs)("div",{className:"grid gap-3 bg-black/40 p-5 rounded-3xl border border-slate-800",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Merchant"}),(0,b.jsx)("span",{className:"font-black text-sm",children:i.merchant})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Date"}),(0,b.jsx)("span",{className:"font-bold text-sm",children:i.date})]}),(0,b.jsx)("div",{className:"h-[1px] bg-slate-800 my-1"}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-[10px] font-bold text-blue-500 uppercase",children:"Total Amount"}),(0,b.jsxs)("span",{className:"font-black text-xl text-blue-400",children:[Number(i.amount).toFixed(3)," OMR"]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{j(null),l(null)},className:"flex-1 py-4 border border-slate-800 rounded-2xl text-[10px] font-black uppercase hover:bg-slate-800 transition",children:"Discard"}),(0,b.jsx)("button",{onClick:n,className:"flex-[2] py-4 bg-blue-600 rounded-2xl text-[10px] font-black uppercase hover:bg-blue-500 transition shadow-lg shadow-blue-600/20",children:"Record Expense"})]})]})]}),(0,b.jsx)("button",{onClick:()=>a.push("/"),className:"mt-8 text-slate-600 hover:text-white transition text-[10px] font-bold uppercase tracking-widest",children:"Exit Scanner"})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__d46f25a4._.js.map