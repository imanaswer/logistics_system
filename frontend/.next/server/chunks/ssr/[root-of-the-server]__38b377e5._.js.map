{"version":3,"sources":["../../../../../frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../../frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../../frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../../frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../../frontend/node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../../frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../../frontend/app/config.ts","../../../../../frontend/app/login/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","// Frontend API Configuration\n// This file manages the backend URL for all API calls\n\n// IMPORTANT: Use environment variable for production deployments\n// Set NEXT_PUBLIC_API_URL in environment variables\n\nexport const API_URL = process.env.NEXT_PUBLIC_API_URL || '';\n\n// Validate URL format\nif (typeof window !== 'undefined') {\n  console.log('ðŸ”— Backend API URL:', API_URL);\n}\n","\"use client\";\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\n// 1. Import the global config\nimport { API_URL } from '../config'; \n\nexport default function Login() {\n  const router = useRouter();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleLogin = async (e: any) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      console.log(\"Attempting login to:\", `${API_URL}/api/login/`); // Debugging log\n\n      // 2. Use API_URL here\n      const res = await fetch(`${API_URL}/api/login/`, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ username, password }),\n      });\n\n      // 3. Check if the server said \"No\" (400/401 error)\n      if (!res.ok) {\n        throw new Error('Login failed');\n      }\n      \n      // 4. Save Credentials Securely\n      const data = await res.json();\n      \n      if (data.token) {\n        localStorage.setItem('token', data.token);\n        localStorage.setItem('username', username);\n        \n        // 5. Hard Redirect to force the dashboard to load fresh\n        window.location.href = '/'; \n      } else {\n        throw new Error('No token received');\n      }\n\n    } catch (err) {\n      console.error(\"Login Error:\", err);\n      setError('Invalid Username or Password');\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex font-sans\">\n      \n      {/* LEFT SIDE: Branding / Image */}\n      <div className=\"hidden lg:flex w-1/2 bg-slate-900 relative items-center justify-center overflow-hidden\">\n        <div className=\"absolute inset-0 bg-gradient-to-br from-blue-900/40 to-slate-900/90 z-10\"></div>\n        {/* Background Image */}\n        <div className=\"absolute inset-0 z-0 opacity-40\" \n             style={{\n                backgroundImage: \"url('https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?q=80&w=2070&auto=format&fit=crop')\",\n                backgroundSize: 'cover',\n                backgroundPosition: 'center'\n             }}>\n        </div>\n        \n        <div className=\"relative z-20 text-center px-10\">\n            <h1 className=\"text-5xl font-extrabold text-white tracking-tight mb-4\">LogisticsERP</h1>\n            <p className=\"text-blue-200 text-lg max-w-md mx-auto leading-relaxed\">\n                Manage shipments, track finances, and generate invoices with enterprise-grade precision.\n            </p>\n        </div>\n      </div>\n\n      {/* RIGHT SIDE: Login Form */}\n      <div className=\"w-full lg:w-1/2 flex items-center justify-center bg-white p-8\">\n        <div className=\"w-full max-w-md space-y-8\">\n            <div className=\"lg:hidden text-center mb-8\">\n                <h1 className=\"text-3xl font-bold text-slate-900\">LogisticsERP</h1>\n            </div>\n\n            <div>\n                <h2 className=\"text-3xl font-bold text-slate-900\">Welcome back</h2>\n                <p className=\"mt-2 text-sm text-slate-500\">Please sign in to your account.</p>\n            </div>\n\n            {error && (\n                <div className=\"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded-md text-sm font-medium animate-pulse\">\n                    {error}\n                </div>\n            )}\n\n            <form className=\"space-y-6\" onSubmit={handleLogin}>\n                <div>\n                    <label className=\"block text-sm font-bold text-slate-700 mb-2\">Username</label>\n                    <input \n                        type=\"text\" \n                        required \n                        value={username}\n                        onChange={(e) => setUsername(e.target.value)}\n                        className=\"w-full px-4 py-3 rounded-lg bg-slate-50 border border-slate-200 text-slate-900 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:bg-white transition\"\n                        placeholder=\"Enter your username\"\n                    />\n                </div>\n\n                <div>\n                    <label className=\"block text-sm font-bold text-slate-700 mb-2\">Password</label>\n                    <input \n                        type=\"password\" \n                        required \n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                        className=\"w-full px-4 py-3 rounded-lg bg-slate-50 border border-slate-200 text-slate-900 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:bg-white transition\"\n                        placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\n                    />\n                </div>\n\n                <button \n                    type=\"submit\" \n                    disabled={loading}\n                    className=\"w-full flex justify-center py-4 px-4 border border-transparent rounded-xl shadow-lg text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition transform active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed\"\n                >\n                    {loading ? 'Signing In...' : 'Sign In'}\n                </button>\n            </form>\n\n            <div className=\"text-center mt-6\">\n                <p className=\"text-xs text-slate-400\">Protected by secure enterprise authentication.</p>\n            </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":["module","exports","require","vendored","React","AppRouterContext","HooksClientContext","ServerInsertedHtml","process","env","NEXT_RUNTIME","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","ReactJsxRuntime"],"mappings":"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","ignoreList":[0,1,2,3,4,5]}