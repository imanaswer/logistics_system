module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},45056,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored["react-ssr"].React},2057,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.AppRouterContext},3420,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.HooksClientContext},98823,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},31699,(a,b,c)=>{"use strict";b.exports=a.r(18622)},57850,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored["react-ssr"].ReactJsxRuntime},14102,a=>{"use strict";let b=process.env.NEXT_PUBLIC_API_URL||"https://logistics-system-oq8b.onrender.com";a.s(["API_URL",0,b])},3072,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(73951),e=a.i(93609),f=a.i(14102);function g(){let a=(0,e.useRouter)(),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)("SEA"),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)([]),[G,H]=(0,c.useState)(""),[I,J]=(0,c.useState)(""),[K,L]=(0,c.useState)(""),[M,N]=(0,c.useState)(""),[O,P]=(0,c.useState)(new Date().toISOString().split("T")[0]),[Q,R]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let a=localStorage.getItem("token");if(!a){window.location.href="/login";return}(async()=>{try{let b=await d.default.get(`${f.API_URL}/api/clients/`,{headers:{Authorization:`Token ${a}`}});h(b.data)}catch(a){console.error("Error fetching clients",a)}})()},[]);let S=async b=>{b.preventDefault(),R(!0);let c=localStorage.getItem("token");if(!c){window.location.href="/login";return}if(!k.trim()){alert("Client Name is required."),R(!1);return}let e="";if(E.length>0){let a={};E.forEach(b=>{a[b]=(a[b]||0)+1});let b=Object.entries(a).map(([a,b])=>`${b}x ${a}`).join(", ");e=` (${b})`}let g=A.trim()||"",h=C.trim()||"",i=`${g} || ${h}${e}`,j={job_date:O,vat_number:s,invoice_no:g,client:{name:k,phone:m||"N/A",email:o||null,address:q||"",vat_number:s},transport_mode:u,port_loading:w,port_discharge:y,shipment_invoice_no:i,no_of_packages:parseFloat(G)||0,gross_weight:parseFloat(I)||0,net_weight:parseFloat(K)||0,cbm:parseFloat(M)||0};try{await d.default.post(`${f.API_URL}/api/jobs/`,j,{headers:{Authorization:`Token ${c}`}}),alert("âœ… Job Created Successfully!"),a.push("/")}catch(a){R(!1),alert("Error saving job card.")}},T="bg-white p-8 rounded-2xl border border-slate-200 shadow-sm space-y-6",U="block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5",V="w-full p-3 rounded-lg border border-slate-200 font-bold text-slate-900 bg-slate-50 focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition";return(0,b.jsx)("div",{className:"min-h-screen bg-slate-50 p-6 flex justify-center font-sans",children:(0,b.jsxs)("div",{className:"w-full max-w-4xl space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Create New Job Card"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium mt-1",children:"Enter shipment details to generate a job card."})]}),(0,b.jsx)("button",{onClick:()=>a.push("/"),className:"text-slate-500 hover:text-red-600 font-bold text-sm bg-slate-100 px-4 py-2 rounded-lg transition",children:"Cancel"})]}),(0,b.jsxs)("form",{onSubmit:S,className:"space-y-6",children:[(0,b.jsxs)("div",{className:T,children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 border-b border-slate-100 pb-4",children:[(0,b.jsx)("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,b.jsx)("h3",{className:"text-lg font-bold text-slate-900",children:"Customer Information"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("label",{className:U,children:["Customer Name ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",required:!0,value:k,onChange:a=>{l(a.target.value),j(!0)},onFocus:()=>j(!0),className:V,placeholder:"Type to search saved companies..."}),i&&k.length>0&&(0,b.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-slate-200 rounded-xl shadow-2xl max-h-60 overflow-y-auto",children:g.filter(a=>a.name.toLowerCase().includes(k.toLowerCase())).map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>{l(a.name),t(a.vat_number||""),n(a.phone||""),p(a.email||""),r(a.address||""),j(!1)},className:"w-full text-left px-4 py-3 hover:bg-blue-50 border-b border-slate-50 last:border-none transition-colors",children:[(0,b.jsx)("div",{className:"text-sm font-black text-slate-900",children:a.name}),(0,b.jsxs)("div",{className:"text-[10px] font-bold text-slate-400 uppercase",children:["VAT: ",a.vat_number||"N/A"," â€¢ ",a.address?.substring(0,40),"..."]})]},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:U,children:"VAT Number"}),(0,b.jsx)("input",{type:"text",value:s,onChange:a=>t(a.target.value),className:V,placeholder:"Ex: 123456789"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:U,children:"Phone Number"}),(0,b.jsx)("input",{type:"text",value:m,onChange:a=>n(a.target.value),className:V,placeholder:"+968..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:U,children:"Email Address"}),(0,b.jsx)("input",{type:"email",value:o,onChange:a=>p(a.target.value),className:V,placeholder:"client@example.com"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:U,children:"Full Address"}),(0,b.jsx)("textarea",{value:q,onChange:a=>r(a.target.value),className:V,rows:2,placeholder:"Building, Street, City..."})]})]})]}),(0,b.jsxs)("div",{className:T,children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 border-b border-slate-100 pb-4",children:[(0,b.jsx)("div",{className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"})})}),(0,b.jsx)("h3",{className:"text-lg font-bold text-slate-900",children:"Shipment Details"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:U,children:"Transport Mode"}),(0,b.jsxs)("select",{value:u,onChange:a=>{v(a.target.value),F([])},className:V,children:[(0,b.jsx)("option",{value:"SEA",children:"Sea Freight"}),(0,b.jsx)("option",{value:"AIR",children:"Air Freight"}),(0,b.jsx)("option",{value:"LAND",children:"Land Freight"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:U,children:"Job Date"}),(0,b.jsx)("input",{type:"date",required:!0,value:O,onChange:a=>P(a.target.value),className:V})]}),(0,b.jsxs)("div",{className:"md:col-span-2 bg-slate-50 p-4 rounded-xl border border-slate-200",children:[(0,b.jsx)("label",{className:U,children:"Select Containers / Vehicle Type"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:["1x20 ft dry","1x40 ft dry","1x20 ft reefer","1x40 ft reefer","3 ton reefer","3 ton normal","10 ton reefer","10 ton normal"].map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>{F([...E,a])},className:"text-[11px] font-bold uppercase bg-white text-slate-800 border-2 border-slate-300 px-3 py-2 rounded-lg hover:border-blue-500 transition shadow-sm",children:["+ ",a]},a))}),E.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2 bg-white p-3 rounded-lg border border-blue-100 shadow-sm",children:E.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-2 bg-blue-50 text-blue-900 px-3 py-1.5 rounded-lg text-xs font-bold border border-blue-100",children:[(0,b.jsxs)("span",{children:["ðŸ“¦ ",a]}),(0,b.jsx)("button",{type:"button",onClick:()=>{let a;(a=[...E]).splice(c,1),F(a)},className:"text-blue-300 hover:text-red-600 font-black px-1 text-sm",children:"Ã—"})]},c))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:U,children:"Place of Loading"}),(0,b.jsx)("input",{type:"text",required:!0,value:w,onChange:a=>x(a.target.value),className:V,placeholder:"Ex: Jebel Ali..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:U,children:"Place of Discharge"}),(0,b.jsx)("input",{type:"text",required:!0,value:y,onChange:a=>z(a.target.value),className:V,placeholder:"Ex: Sohar..."})]}),(0,b.jsxs)("div",{className:"md:col-span-2 grid grid-cols-2 gap-6 pt-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:U,children:"Invoice Number"}),(0,b.jsx)("input",{type:"text",value:A,onChange:a=>B(a.target.value),className:V,placeholder:"INV-2026-001..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:U,children:"Supplier Reference"}),(0,b.jsx)("input",{type:"text",value:C,onChange:a=>D(a.target.value),className:V,placeholder:"PO Number / Ref..."})]})]})]}),(0,b.jsxs)("div",{className:"pt-4 border-t border-slate-100 grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:U,children:"Packages"}),(0,b.jsx)("input",{type:"number",value:G,onChange:a=>H(a.target.value),className:V,placeholder:"0"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:U,children:"Gross Wt (KG)"}),(0,b.jsx)("input",{type:"number",value:I,onChange:a=>J(a.target.value),className:V,placeholder:"0.0"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:U,children:"Net Wt (KG)"}),(0,b.jsx)("input",{type:"number",value:K,onChange:a=>L(a.target.value),className:V,placeholder:"0.0"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:U,children:"Volume (CBM)"}),(0,b.jsx)("input",{type:"number",value:M,onChange:a=>N(a.target.value),className:V,placeholder:"0.0"})]})]})]}),(0,b.jsx)("div",{className:"flex justify-end pt-2",children:(0,b.jsx)("button",{type:"submit",disabled:Q,className:"bg-slate-900 hover:bg-black text-white text-base font-bold py-4 px-12 rounded-xl shadow-lg transition transform active:scale-[0.98] w-full md:w-auto",children:Q?"Processing...":"Create Job Card"})})]})]})})}a.s(["default",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__d8240218._.js.map